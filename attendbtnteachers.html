<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Attendance Session | SmartAttend</title>

  <!-- fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <!-- shared styles -->
  <link rel="stylesheet" href="samedesign.css" />
</head>
<body>

<div class="teacher-dashboard">

  <!-- TOP BAR (same as other pages) -->
  <header class="teacher-topbar">
    <div class="teacher-topbar-left">
      <div class="logo">
        <img src="Icons/Logo.png" alt="SmartAttend logo" />
        <span class="logo-text">SmartAttend</span>
      </div>
    </div>

    <div class="teacher-topbar-right">
      <div class="teacher-identity">
        <span class="teacher-identity-name">Name of Teacher</span>
        <span class="teacher-identity-role">(teacher)</span>
      </div>

      <button class="teacher-logout-btn">
        <img src="Icons/Logout Icon.png" alt="Logout" class="logout-icon" />
        <span class="teacher-logout-text">Logout</span>
      </button>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="create-class-main-attendance-main">

    <!-- back link -->
    <a href="teacher-class-created.html" class="create-class-back">
      ← Back to Dashboard
    </a>

    <!-- header -->
    <section class="attendance-header">
      <h1 class="attendance-title">SAD21</h1>
      <p class="attendance-subtitle">Attendance Session Management</p>
    </section>

    <!-- two cards -->
    <section class="attendance-grid">
      <article class="attendance-card attendance-card-primary">
  <div class="attendance-card-heading">
    <span class="attendance-icon">
      <img src="Icons/QRcode.png" alt="QR Code" />
    </span>
    <h2 class="attendance-card-title">QR Code</h2>
  </div>

  <p class="attendance-card-text">
    Students scan this code to request attendance
  </p>

  <!-- STATE 1: before starting -->
  <div class="qr-state qr-before">
    <button class="attendance-btn-primary" id="start-session-btn">
      Start Attendance Session
    </button>
  </div>

  <!-- STATE 2: session running -->
  <div class="qr-state qr-active">
    <div class="qr-code-large">
      <img src="Icons/QRcode.png" alt="QR Code" />
    </div>

    <div class="qr-footer">
      <div class="qr-timer">
  <div class="qr-timer-left">
    <span class="qr-timer-icon">
      <img src="Icons/Stopwatch.png" alt="Timer icon">
    </span>
    <span class="qr-timer-label">Time Remaining:</span>
  </div>

  <span class="qr-timer-value" id="qr-timer-value">15:00</span>
</div>

      <button class="qr-close-btn" id="close-session-btn">
        Close Session
      </button>
    </div>
  </div>
</article>


      <!-- RIGHT: PENDING REQUEST -->
      <article class="attendance-card attendance-card-muted">
        <div>
          <h2 class="attendance-card-title">Pending Request</h2>
          <p class="attendance-card-meta">0 students waiting for approval</p>
          <p class="attendance-card-text muted">
            Start a session to see requests
          </p>
        </div>
      </article>
    </section>

  </main>
</div>

</body>

<script>
  const mainEl = document.querySelector('.create-class-main-attendance-main');
  const startBtn = document.getElementById('start-session-btn');
  const closeBtn = document.getElementById('close-session-btn');

  if (startBtn) {
    startBtn.addEventListener('click', () => {
      // turn ON session ⇒ show big QR + timer
      mainEl.classList.add('session-on');
    });
  }

  if (closeBtn) {
    closeBtn.addEventListener('click', () => {
      // turn OFF session ⇒ go back to blue button
      mainEl.classList.remove('session-on');
      // optional: reset timer text
      document.getElementById('qr-timer-value').textContent = '15:00';
    });
  }
</script>

</html>
